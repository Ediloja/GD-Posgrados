<div class="contenedor-p-curso-en-linea"><a id="button" class="show" href="#"><img id="10556215"
            class="imagen img-frontal" role="presentation"
            src="https://utpl.instructure.com/courses/72916/files/22935669/preview" alt="" width="30"
            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/files/22935669"
            data-api-returntype="File" data-decorative="true" /><img id="1056216" class="imagen" role="presentation"
            src="https://utpl.instructure.com/courses/72916/files/22935670/preview" alt="" width="30"
            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/files/22935670"
            data-api-returntype="File" data-decorative="true" />&nbsp;</a>
    <div class="contenedor-columnas">
        <div class="col-180p">
            <div class="menu-semana menu-semana-movil">
                <div class="tab-subtemas">
                    <p><a class="inline_disabled" title="El conocimiento transforma el mundo"
                            href="https://utpl.instructure.com/courses/72916/pages/el-conocimiento-transforma-el-mundo-10"
                            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/el-conocimiento-transforma-el-mundo-10"
                            data-api-returntype="Page">P&aacute;gina de inicio</a></p>
                </div>
                <div class="tab-subtemas">
                    <p><a title="Creaci&oacute;n de buffers"
                            href="https://utpl.instructure.com/courses/72916/pages/creacion-de-buffers"
                            data-api-returntype="Page"
                            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/creacion-de-buffers">Creaci&oacute;n
                            de buffers</a></p>
                </div>
                <div class="tab-subtemas activo-subtema">
                    <p><a title="Uni&oacute;n, intersecci&oacute;n y disoluci&oacute;n de capas vectoriales"
                            href="https://utpl.instructure.com/courses/72916/pages/union-interseccion-y-disolucion-de-capas-vectoriales"
                            data-api-returntype="Page"
                            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/union-interseccion-y-disolucion-de-capas-vectoriales">Uni&oacute;n,
                            intersecci&oacute;n y disoluci&oacute;n de capas vectoriales</a>
                    </p>
                </div>
                <div class="tab-subtemas">
                    <p><a title="An&aacute;lisis de proximidad y c&aacute;lculo de &aacute;reas"
                            href="https://utpl.instructure.com/courses/72916/pages/analisis-de-proximidad-y-calculo-de-areas"
                            data-api-returntype="Page"
                            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/analisis-de-proximidad-y-calculo-de-areas">An&aacute;lisis
                            de proximidad y c&aacute;lculo de &aacute;reas</a></p>
                </div>
                <div class="tab-subtemas">
                    <p><a class="inline_disabled" title="Lecturas"
                            href="https://utpl.instructure.com/courses/72916/pages/lectura-semana-4"
                            data-api-returntype="Page"
                            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/lectura-semana-4">Lecturas</a>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-85 contenedor-semanas">
            <div class="menu-contenido menu-semana-movil">
                <div class="col-18">
                    <div class="tab-unidades-p">
                        <p style="text-align: center; margin-top: 0;"><a
                                title="Fundamentos y aplicaciones de bases de datos geoespaciales"
                                href="https://utpl.instructure.com/courses/72916/pages/fundamentos-y-aplicaciones-de-bases-de-datos-geoespaciales"
                                data-api-returntype="Page"
                                data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/fundamentos-y-aplicaciones-de-bases-de-datos-geoespaciales">Semana
                                1</a></p>
                    </div>
                </div>
                <div class="col-18">
                    <div class="tab-unidades-p">
                        <p style="text-align: center; margin-top: 0;"><a
                                title="Modelado de datos espaciales y no espaciales"
                                href="https://utpl.instructure.com/courses/72916/pages/modelado-de-datos-espaciales-y-no-espaciales"
                                data-api-returntype="Page"
                                data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/modelado-de-datos-espaciales-y-no-espaciales">Semana
                                2</a></p>
                    </div>
                </div>
                <div class="col-18">
                    <div class="tab-unidades-p">
                        <p style="text-align: center; margin-top: 0;"><a title="Creaci&oacute;n de tablas espaciales"
                                href="https://utpl.instructure.com/courses/72916/pages/creacion-de-tablas-espaciales"
                                data-api-returntype="Page"
                                data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/creacion-de-tablas-espaciales">Semana
                                3</a></p>
                    </div>
                </div>
                <div class="col-18">
                    <div class="tab-unidades-p activo-unidad-p">
                        <p style="text-align: center; margin-top: 0;"><a title="Creaci&oacute;n de buffers"
                                href="https://utpl.instructure.com/courses/72916/pages/creacion-de-buffers"
                                data-api-returntype="Page"
                                data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/creacion-de-buffers">Semana
                                4</a></p>
                    </div>
                </div>
                <div class="col-18">
                    <div class="tab-unidades-p">
                        <p style="text-align: center; margin-top: 0;"><a
                                title="Consultas con operadores espaciales: intersecci&oacute;n, distancia y contenci&oacute;n"
                                href="https://utpl.instructure.com/courses/72916/pages/consultas-con-operadores-espaciales-interseccion-distancia-y-contencion"
                                data-api-returntype="Page"
                                data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/consultas-con-operadores-espaciales-interseccion-distancia-y-contencion">Semana
                                5</a></p>
                    </div>
                </div>
                <div class="col-18">
                    <div class="tab-unidades-p">
                        <p style="text-align: center; margin-top: 0;"><a
                                title="Generaci&oacute;n y optimizaci&oacute;n autom&aacute;tica de consultas espaciales"
                                href="https://utpl.instructure.com/courses/72916/pages/generacion-y-optimizacion-automatica-de-consultas-espaciales"
                                data-api-returntype="Page"
                                data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/generacion-y-optimizacion-automatica-de-consultas-espaciales">Semana
                                6</a></p>
                    </div>
                </div>
                <div class="col-18">
                    <div class="tab-unidades-p">
                        <p style="text-align: center; margin-top: 0;"><a
                                title="Generaci&oacute;n de mapas consolidados en QGIS"
                                href="https://utpl.instructure.com/courses/72916/pages/generacion-de-mapas-consolidados-en-qgis"
                                data-api-returntype="Page"
                                data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/generacion-de-mapas-consolidados-en-qgis">Semana
                                7</a></p>
                    </div>
                </div>
                <div class="col-18">
                    <div class="tab-unidades-p">
                        <p style="text-align: center; margin-top: 0;"><a
                                title="Presentaci&oacute;n y retroalimentaci&oacute;n del trabajo final"
                                href="https://utpl.instructure.com/courses/72916/pages/presentacion-y-retroalimentacion-del-trabajo-final"
                                data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/pages/presentacion-y-retroalimentacion-del-trabajo-final"
                                data-api-returntype="Page">Semana 8</a></p>
                    </div>
                </div>
            </div>
            <div class="f-contenido-pagina">
                <h2>Uni&oacute;n, intersecci&oacute;n y disoluci&oacute;n de capas vectoriales</h2>
                <p><strong>&iquest;Qu&eacute; son las operaciones espaciales?</strong></p>
                <p>Las operaciones espaciales permiten manipular, combinar o simplificar datos
                    vectoriales en un SIG. Entre las m&aacute;s comunes se encuentran:</p>
                <ul>
                    <li><strong>Uni&oacute;n espacial:</strong> combina dos capas, manteniendo los
                        atributos de ambas.</li>
                    <li><strong>Intersecci&oacute;n:</strong> genera una nueva capa con las
                        &aacute;reas donde las geometr&iacute;as de ambas capas se solapan.</li>
                    <li><strong>Disoluci&oacute;n:</strong> simplifica las geometr&iacute;as de una
                        capa combinando aquellas que comparten atributos comunes.</li>
                </ul>
                <p><strong>Importaci&oacute;n de capas en PostGIS</strong></p>
                <p>Para importar las capas en la base de datos PostgreSQL usando <code>shp2pgsql</code>,
                    sigue estos pasos:</p>
                <p><strong>Paso 1. Ubicar el ejecutable shp2pgsql</strong></p>
                <p>Abra la consola de comandos y dir&iacute;jase a la carpeta donde se encuentra
                    <code>shp2pgsql.exe</code>, como se indica debajo.
                </p>
                <pre><code><span style="color: #862caa;">cd</span> <span style="color: #1f8449;">"C:\Program Files\PostgreSQL\17\bin"</span></code></pre>
                <p><strong>Paso 2. Importar los archivos SHP a PostGIS</strong></p>
                <p>Ejecute los comandos a continuaci&oacute;n para importar cada capa, seg&uacute;n lo
                    indicado.</p>
                <p><strong>Importar corredores de conectividad</strong></p>
                <p><code><span style="color: #515a5c;">shp2pgsql -s</span><span style="color: #862caa;">4326</span><span style="color: #515a5c;"> -I </span><span style="color: #1f8449;">"D:/SIG/MAE/v_hc007_corredor_conectividadPolygon.shp"</span><span style="color: #515a5c;"> corredores | psql -U postgres -h localhost -W <span style="color: #862caa;">-d</span> postgres</span><span style="color: #515a5c;">;</span></code>
                </p>
                <p><strong>Importar &aacute;reas protegidas</strong></p>
                <p><code><span style="color: #515a5c;">shp2pgsql -s </span><span style="color: #862caa;">4326</span><span style="color: #515a5c;"> -I </span><span style="color: #1f8449;">"D:/SIG/MAE/v_fa210_snap_dPolygon.shp"</span><span style="color: #515a5c;"> areas_protegidas | psql -U postgres -h localhost -W <span style="color: #862caa;">-d</span> postgres</span><span style="color: #515a5c;">;</span></code>
                </p>
                <p><strong>Importar cuencas hidrogr&aacute;ficas</strong></p>
                <p><code><span style="color: #515a5c;">shp2pgsql -s </span><span style="color: #862caa;">4326</span><span style="color: #515a5c;"> -I </span><span style="color: #1f8449;">"D:/SIG/MAE/v_hd000_unidades_hidrograficas_pfafstetter_nivel_5_aPolygon.shp"</span><span style="color: #515a5c;"> cuencas | psql -U postgres -h localhost -W <span style="color: #862caa;">-d</span> postgres</span><span style="color: #515a5c;">;</span></code>
                </p>
                <p>Introduce la contrase&ntilde;a <code>admin</code> cuando se solicite.</p>
                <p><strong>Uni&oacute;n de capas vectoriales</strong></p>
                <p>La operaci&oacute;n de uni&oacute;n espacial combina dos capas vectoriales, generando
                    una nueva capa que contiene los atributos de ambas. Por ejemplo, se puede unir
                    una capa de corredores ecol&oacute;gicos con &aacute;reas protegidas para
                    analizar su conectividad.</p>
                <p><strong>Uni&oacute;n en PostGIS</strong></p>
                <p>Antes de realizar la uni&oacute;n en PostGIS, **se debe asegurar que ambas capas
                    tengan el mismo sistema de referencia espacial (SRID)**. Si hay diferencias, se
                    debe reproyectar la geometr&iacute;a antes de aplicar la uni&oacute;n. Revise la
                    consulta siguiente para m&aacute;s detalles.&nbsp;</p>
                <pre><code><span style="color: #207ab6;">CREATE TABLE</span> union_corredores_areas <span style="color: #207ab6;">AS</span>
<span style="color: #207ab6;">SELECT</span> ST_Union(<span style="color: #862caa;">a</span>.geom, <span style="color: #862caa;">b</span>.geom) <span style="color: #207ab6;">AS</span> geom
<span style="color: #207ab6;">FROM public</span>.corredores <span style="color: #862caa;">a</span>,<span style="color: #207ab6;"> public</span>.areas_protegidas <span style="color: #862caa;">b</span><span style="color: #515a5c;">;</span></code></pre>
                <p>Este comando une todas las geometr&iacute;as en una sola entidad.</p>
                <p><strong>Intersecci&oacute;n de capas vectoriales</strong></p>
                <p>Las siguientes consultas muestran, primero, el procedimiento para superponer las
                    &aacute;reas protegidas con los corredores de conectividad, y luego el proceso
                    de creaci&oacute;n de intersecciones en pgAdmin 4.</p>
                <p><strong>Consideraciones sobre el SRID</strong></p>
                <p>Como los l&iacute;mites provinciales est&aacute;n en **EPSG:32717** y las
                    &aacute;reas protegidas en **EPSG:4326**, se debe reproyectar antes de realizar
                    la intersecci&oacute;n.</p>
                <p><strong>Intersecci&oacute;n en PostGIS</strong></p>
                <p>Para interceptar las &aacute;reas protegidas con los corredores de conectividad:</p>
                <pre><code><span style="color: #207ab6;">CREATE TABLE</span> interseccion_corredores_areas <span style="color: #207ab6;">AS</span>
<span style="color: #207ab6;">SELECT</span> ST_Intersection(<span style="color: #862caa;">a</span>.geom, ST_Transform(<span style="color: #862caa;">b</span>.geom, <span style="color: #862caa;">4326</span>)) <span style="color: #207ab6;">AS</span> geom
<span style="color: #207ab6;">FROM public</span>.areas_protegidas <span style="color: #862caa;">a</span>
<span style="color: #207ab6;">JOIN public</span>.corredores <span style="color: #862caa;">b</span>
<span style="color: #207ab6;">ON</span> ST_Intersects(<span style="color: #862caa;">a</span>.geom, ST_Transform(<span style="color: #862caa;">b</span>.geom, <span style="color: #862caa;">4326</span>))<span style="color: #515a5c;">;</span></code></pre>
                <p>Se usa <code>ST_Transform</code> para convertir los corredores de **EPSG:32717** a
                    **EPSG:4326**.</p>
                <div class="contenedor-imagen" style="max-width: 850px;">
                    <p><strong>Figura 13</strong><br /><em>Creaci&oacute;n de intersecciones en
                            pgAdmin 4</em></p>
                    <p style="text-align: center;"><img id="22951085"
                            src="https://utpl.instructure.com/courses/72916/files/22951085/preview"
                            alt="La imagen muestra la interfaz de pgAdmin 4, que es una herramienta de administraci&oacute;n gr&aacute;fica para PostgreSQL."
                            width="850" height="454"
                            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/files/22951085"
                            data-api-returntype="File" /></p>
                    <pre><em>Nota.</em> Pucha, F. (2025).</pre>
                </div>
                <p><strong>Disoluci&oacute;n de capas vectoriales</strong></p>
                <p>La disoluci&oacute;n simplifica las geometr&iacute;as combinando aquellas que
                    comparten un atributo. En este caso, podemos disolver las cuencas
                    hidrogr&aacute;ficas seg&uacute;n su nombre.</p>
                <p><strong>Disoluci&oacute;n en PostGIS</strong></p>
                <p>Las siguientes consultas muestran, primero, c&oacute;mo disolver las cuencas
                    hidrogr&aacute;ficas seg&uacute;n su nombre (<code>dhnom</code>), y luego la
                    visualizaci&oacute;n de las zonas de intersecci&oacute;n en QGIS.</p>
                <pre><code><span style="color: #207ab6;">CREATE TABLE</span> disolucion_cuencas <span style="color: #207ab6;">AS</span>
<span style="color: #207ab6;">SELECT</span> dhnom, ST_Union(geom) <span style="color: #207ab6;">AS</span> geom_disuelto
<span style="color: #207ab6;">FROM public</span>.cuencas
<span style="color: #207ab6;">GROUP BY</span> dhnom<span style="color: #515a5c;">;</span></code></pre>
                <p>Esto agrupar&aacute; las cuencas hidrogr&aacute;ficas bajo el mismo nombre en una
                    sola geometr&iacute;a.</p>
                <div class="contenedor-imagen" style="max-width: 850px;">
                    <p><strong>Figura 14</strong><br /><em>Visualizaci&oacute;n de las zonas de
                            intersecci&oacute;n en QGIS</em></p>
                    <p style="text-align: center;"><img id="22951086"
                            src="https://utpl.instructure.com/courses/72916/files/22951086/preview"
                            alt="Se muestra el resultado espacial de operaciones en PostGIS, visualizando intersecci&oacute;n de corredores y &aacute;reas protegidas"
                            width="850" height="472"
                            data-api-endpoint="https://utpl.instructure.com/api/v1/courses/72916/files/22951086"
                            data-api-returntype="File" /></p>
                    <pre><em>Nota.</em> Pucha, F. (2025).</pre>
                </div>
                <p><strong>Aplicaciones comunes</strong></p>
                <ul>
                    <li><strong>Uni&oacute;n espacial:</strong> an&aacute;lisis de conectividad
                        ecol&oacute;gica combinando corredores y &aacute;reas protegidas.</li>
                    <li><strong>Intersecci&oacute;n:</strong> identificaci&oacute;n de &aacute;reas
                        protegidas dentro de l&iacute;mites provinciales.</li>
                    <li><strong>Disoluci&oacute;n:</strong> agrupaci&oacute;n de cuencas
                        hidrogr&aacute;ficas seg&uacute;n su unidad de gesti&oacute;n.</li>
                </ul>
                <p>Con estos procesos puede gestionar y analizar datos espaciales avanzados en PostGIS.
                </p>
            </div>
        </div>
    </div>
</div>